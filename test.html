<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1" />
<title>net+TV â€” Home</title>
<meta name="theme-color" content="#0b1020" />
<style>
  :root[data-theme="dark"]{
    --bg:#0b1020;--ink:#e9edff;--muted:#a9b5e6;--card:#121831;--line:#23305b;
    --g1:#6a11cb;--g2:#2575fc;--whats:#25D366;
  }
  :root[data-theme="light"]{
    --bg:#ffffff;--ink:#0b1020;--muted:#333;--card:#f4f4f4;--line:#ddd;
    --g1:#2575fc;--g2:#6a11cb;--whats:#25D366;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:var(--bg);color:var(--ink)}
  a{color:inherit;text-decoration:none}
  img{display:block;max-width:100%}
  button{font:inherit;cursor:pointer}

  .topbar{position:sticky;top:0;z-index:50;background:rgba(0,0,0,.6);backdrop-filter:blur(10px);padding:10px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--line)}
  .logo{font-weight:800}
  .bulb{font-size:20px}

  /* Banner carousel */
  .bannerCarousel{position:relative;overflow:hidden}
  .bannerTrack{display:flex;transition:transform .5s}
  .bannerSlide{min-width:100%;aspect-ratio:16/9;overflow:hidden}
  .bannerSlide img{width:100%;height:100%;object-fit:cover}

  /* Scrolling ticker */
  .ticker{overflow:hidden;border-top:1px solid var(--line);border-bottom:1px solid var(--line);background:var(--card)}
  .tickerInner{display:inline-block;white-space:nowrap;animation:ticker 20s linear infinite}
  .tickerInner span{display:inline-block;padding:0 2rem}
  @keyframes ticker{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}

  /* Section */
  .section{padding:20px 16px;border-bottom:1px solid var(--line)}
  .section h2{margin:0 0 10px}

  /* Plans */
  .plans{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px}
  .card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:14px;display:flex;flex-direction:column;gap:8px}
  .tag{font-size:12px;font-weight:700;color:#fff;padding:2px 6px;border-radius:6px;background:linear-gradient(135deg,var(--g1),var(--g2));align-self:flex-start}
  .benefit{font-size:12px;color:var(--whats);font-weight:700}
  .price{font-size:20px;font-weight:800}
  .btnRow{margin-top:auto;display:flex;gap:8px}
  .btn{flex:1;padding:10px;border-radius:8px;border:1px solid var(--line);background:rgba(255,255,255,.05);color:var(--ink);text-align:center}
  .btn.whats{background:var(--whats);color:#000;font-weight:700}

  /* Boxes */
  .boxCarousel{position:relative;overflow:hidden}
  .boxTrack{display:flex;transition:transform .5s}
  .boxSlide{min-width:100%;aspect-ratio:16/9}
  .boxSlide img{width:100%;height:100%;object-fit:cover}

  /* Posters rail */
  .posters{display:flex;overflow-x:auto;gap:10px;scroll-snap-type:x mandatory;padding-bottom:10px}
  .posters img{flex:0 0 auto;scroll-snap-align:start;width:200px;height:300px;object-fit:cover;border-radius:8px}

  /* Forms */
  form{display:grid;gap:10px}
  input,select,textarea{padding:10px;border-radius:8px;border:1px solid var(--line);background:var(--card);color:var(--ink)}
  .footpad{height:20px}
</style>
</head>
<body>
<div class="topbar">
  <div class="logo">net+TV</div>
  <button class="bulb" id="themeToggle">ðŸ’¡</button>
</div>

<!-- Banners -->
<div class="bannerCarousel">
  <div class="bannerTrack" id="bannerTrack">
    <div class="bannerSlide"><img src="https://via.placeholder.com/1280x720?text=Banner+1"></div>
    <div class="bannerSlide"><img src="https://via.placeholder.com/1280x720?text=Banner+2"></div>
    <div class="bannerSlide"><img src="https://via.placeholder.com/1280x720?text=Banner+3"></div>
  </div>
</div>

<!-- Ticker -->
<div class="ticker"><div class="tickerInner">
  <span>Proudly Canadian</span>
  <span>Zero Latency Streams</span>
  <span>24/7 Support</span>
  <span>Multi-Device</span>
</div></div>

<!-- Our Plans -->
<section class="section">
  <h2>Our Plans</h2>
  <div class="plans" id="plansGrid"></div>
</section>

<!-- New Boxes -->
<section class="section">
  <h2>New Boxes</h2>
  <div class="plans" id="boxesGrid"></div>
</section>

<!-- Recharge -->
<section class="section">
  <h2>Recharge</h2>
  <form id="rechargeForm">
    <input name="email" type="email" placeholder="Email" required>
    <input name="name" placeholder="Name" required>
    <input name="phone" placeholder="Phone" required>
    <input name="mac" placeholder="MAC Address" required>
    <select name="duration" required>
      <option value="1">1 month</option>
      <option value="3">3 months</option>
      <option value="6">6 months</option>
      <option value="12">12 months</option>
    </select>
    <textarea name="note" placeholder="Optional note"></textarea>
    <button class="btn whats" type="submit">Renew via WhatsApp</button>
  </form>
</section>

<!-- Contact Support -->
<section class="section">
  <h2>Contact Support</h2>
  <form id="supportForm">
    <input name="name" placeholder="Name" required>
    <input name="phone" placeholder="Phone" required>
    <textarea name="issue" placeholder="Describe your issue" required></textarea>
    <button class="btn whats" type="submit">Send via WhatsApp</button>
  </form>
</section>

<!-- Posters -->
<section class="section">
  <h2>Latest Movies & Series</h2>
  <div class="posters" id="postersRail">
    <img src="https://via.placeholder.com/200x300?text=Poster+1">
    <img src="https://via.placeholder.com/200x300?text=Poster+2">
    <img src="https://via.placeholder.com/200x300?text=Poster+3">
    <img src="https://via.placeholder.com/200x300?text=Poster+4">
  </div>
</section>

<div class="footpad"></div>

<!-- Scripts -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCboIOCfsY1Zvx-cyKPMbAMGYdg27rnP0Y",
  authDomain: "netplus-site-4ff04.firebaseapp.com",
  projectId: "netplus-site-4ff04",
  storageBucket: "netplus-site-4ff04.firebasestorage.app",
  messagingSenderId: "49095160110",
  appId: "1:49095160110:web:5431d5c9f8ca45c4d70abf",
  measurementId: "G-PYWFFDZ0RR"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const WHATSAPP_NUMBER = "16476961656"; // without '+'

// Theme toggle
const themeToggle=document.getElementById('themeToggle');
function setTheme(t){document.documentElement.setAttribute('data-theme',t);localStorage.setItem('theme',t);}
setTheme(localStorage.getItem('theme')|| (window.matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light'));
themeToggle.onclick=()=>{setTheme(document.documentElement.getAttribute('data-theme')==='dark'?'light':'dark')};

// WhatsApp helper
function toWA(msg){window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`,'_blank');}

// Plans
const plansGrid=document.getElementById('plansGrid');
const localPlans=[
  {id:'1',name:"Starter HD",months:6,benefit:"+1 mo free",price:"CA$60",tag:"Popular",desc:"HD focus â€¢ Core channels"},
  {id:'2',name:"Family FHD",months:12,benefit:"+2 mo free",price:"CA$100",tag:"Best Value",desc:"Full HD â€¢ Family packs"},
];
async function loadPlans(){
  let items=localPlans;
  try{const snap=await getDocs(collection(db,'plans'));const arr=[];snap.forEach(d=>arr.push({...d.data(),id:d.id}));if(arr.length)items=arr}catch(e){console.warn(e);}
  renderPlans(items);
}
function renderPlans(items){
  plansGrid.innerHTML='';
  items.forEach(p=>{
    const el=document.createElement('div');el.className='card';el.dataset.type='plan';el.dataset.id=p.id;
    el.innerHTML=`
      ${p.tag?`<div class="tag">${p.tag}</div>`:''}
      <div class="price">${p.price}</div>
      <div>${p.months} months</div>
      ${p.benefit?`<div class="benefit">${p.benefit}</div>`:''}
      <div>${p.desc||''}</div>
      <div class="btnRow">
        <button class="btn whats">Subscribe</button>
        <button class="btn">Info</button>
      </div>`;
    el.querySelector('.whats').onclick=()=>toWA(`New Subscription\nPlan: ${p.name}\nMonths: ${p.months}\nBenefit: ${p.benefit}`);
    el.querySelectorAll('.btn')[1].onclick=()=>alert(`${p.name}\nIncludes: 20k+ Live Channels, Movies, Series, PPV`);
    plansGrid.appendChild(el);
  });
}
loadPlans();

// Boxes
const boxesGrid=document.getElementById('boxesGrid');
const localBoxes=[
  {id:'b1',name:"Basic Box",images:["https://via.placeholder.com/1280x720?text=Box1a","https://via.placeholder.com/1280x720?text=Box1b"],boxPrice:"CA$120",combo:{planMonths:12,extra:"+1 mo free",price:"CA$199"},desc:"Entry-level STB"}
];
function renderBoxes(items){
  boxesGrid.innerHTML='';
  items.forEach(b=>{
    const el=document.createElement('div');el.className='card';el.dataset.type='box';el.dataset.id=b.id;
    el.innerHTML=`
      <div class="boxCarousel"><div class="boxTrack">${b.images.map(u=>`<div class="boxSlide"><img src="${u}"></div>`).join('')}</div></div>
      <div><strong>${b.name}</strong></div>
      <div>Box Price: ${b.boxPrice}</div>
      <div>Combo: ${b.combo.price} (${b.combo.planMonths} mo, ${b.combo.extra})</div>
      <div>${b.desc||''}</div>
      <div class="btnRow"><button class="btn whats">Get Box</button><button class="btn">Info</button></div>`;
    el.querySelector('.whats').onclick=()=>toWA(`Box Request\nBox: ${b.name}\nCombo: ${b.combo.planMonths} mo ${b.combo.extra}\nPrice: ${b.combo.price}`);
    el.querySelectorAll('.btn')[1].onclick=()=>alert(`${b.name}\n${b.desc}`);
    boxesGrid.appendChild(el);
  });
}
renderBoxes(localBoxes);

// Recharge
document.getElementById('rechargeForm').onsubmit=e=>{
  e.preventDefault();
  const f=new FormData(e.target);const kv=Object.fromEntries(f.entries());
  const msg=`Recharge Request\nEmail: ${kv.email}\nName: ${kv.name}\nPhone: ${kv.phone}\nMAC: ${kv.mac}\nDuration: ${kv.duration} mo\nNote: ${kv.note||''}`;
  toWA(msg);
};

// Support
document.getElementById('supportForm').onsubmit=e=>{
  e.preventDefault();
  const f=new FormData(e.target);const kv=Object.fromEntries(f.entries());
  const msg=`Support Request\nName: ${kv.name}\nPhone: ${kv.phone}\nIssue: ${kv.issue}`;
  toWA(msg);
};
</script>
</body>
</html>
